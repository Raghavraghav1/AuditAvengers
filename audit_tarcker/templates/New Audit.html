<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Audit Avengers - New Audit Form</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
  />
  <style>
    /* Custom scrollbar for dark background */
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #181a1f;
    }
    ::-webkit-scrollbar-thumb {
      background-color: #d4af37;
      border-radius: 10px;
      border: 2px solid #181a1f;
    }
  </style>
</head>
<body class="bg-[#181a1f] text-white font-sans min-h-screen flex flex-col">
  <!-- Navbar -->
  <nav class="flex items-center justify-between px-10 py-4 border-b border-gray-700">
    <div class="flex items-center space-x-2">
      <svg
        class="w-6 h-6 text-yellow-500"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 11c0-1.104-.896-2-2-2s-2 .896-2 2c0 1.104.896 2 2 2s2-.896 2-2z"
        ></path>
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 21c-4.418 0-8-3.582-8-8v-1a8 8 0 0116 0v1c0 4.418-3.582 8-8 8z"
        ></path>
      </svg>
      <span class="font-bold text-yellow-500 text-sm select-none">Audit Avengers</span>
    </div>
    <ul class="hidden md:flex space-x-6 text-gray-300 text-sm">
      <li class="hover:text-white cursor-pointer font-bold text-xl text-yellow-500" ><a href="/">Home</a></li>
    </ul>
  </nav>

  <!-- Form container -->
  <main class="flex-grow max-w-4xl mx-auto px-6 md:px-10 py-10">
    <h1 class="text-3xl font-extrabold text-yellow-500 mb-8 text-center">
      Create New Audit
    </h1>
    <form id="auditForm" class="bg-[#22252c] rounded-md p-8 space-y-6 border border-gray-700" novalidate>
      <div>
        <label for="auditId" class="block text-yellow-500 font-semibold mb-1">Audit ID</label>
        <input
          type="text"
          id="auditId"
          name="Audit Id"
          placeholder="e.g. AA00013"
          required
          class="w-full rounded-md bg-[#181a1f] border border-yellow-500 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"
        />
      </div>

      <div>
        <label for="title" class="block text-yellow-500 font-semibold mb-1">Client Id</label>
        <input
          type="text"
          id="title"
          name="client_id"
          placeholder="e.g CC001 or TaxS001"
          required
          class="w-full rounded-md bg-[#181a1f] border border-yellow-500 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"
        />
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label for="location" class="block text-yellow-500 font-semibold mb-1">Location</label>
          <input
            type="text"
            id="location"
            name="location"
            placeholder="e.g. hyd"
            required
            class="w-full rounded-md bg-[#181a1f] border border-yellow-500 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"
          />
        </div>
        <div>
          <label for="startDate" class="block text-yellow-500 font-semibold mb-1">Start Date</label>
          <input
            type="date"
            id="startDate"
            name="Date"
            required
            class="w-full rounded-md bg-[#181a1f] border border-yellow-500 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"
          />
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label for="duration" class="block text-yellow-500 font-semibold mb-1">Duration (days)</label>
          <input
            type="number"
            id="duration"
            name="Days"
            min="1"
            placeholder="e.g. 2"
            required
            class="w-full rounded-md bg-[#181a1f] border border-yellow-500 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"
          />
        </div>
        <div>
          <label for="teamSize" class="block text-yellow-500 font-semibold mb-1">Team Size</label>
          <input
            type="text"
            id="teamSize"
            name="auditor require"
            placeholder="e.g. 1 Avenger(s) per day"
            required
            class="w-full rounded-md bg-[#181a1f] border border-yellow-500 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"
          />
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label for="industry" class="block text-yellow-500 font-semibold mb-1">Industry</label>
          <input
            type="text"
            id="industry"
            name="industry"
            placeholder="e.g. edu"
            required
            class="w-full rounded-md bg-[#181a1f] border border-yellow-500 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"
          />
        </div>
        <div>
          <label for="auditType" class="block text-yellow-500 font-semibold mb-1">Audit Type</label>
          <input
            type="text"
            id="auditType"
            name="Audit type"
            placeholder="e.g. phy"
            required
            class="w-full rounded-md bg-[#181a1f] border border-yellow-500 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"
          />
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label for="qualifications" class="block text-yellow-500 font-semibold mb-1">Qualifications</label>
          <input
            type="text"
            id="qualifications"
            name="Qualification"
            placeholder="e.g. be/btech"
            required
            class="w-full rounded-md bg-[#181a1f] border border-yellow-500 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"
          />
        </div>
        <div>
          <label for="equipment" class="block text-yellow-500 font-semibold mb-1">Equipment</label>
          <input
            type="text"
            id="equipment"
            name="equipment"
            placeholder="e.g. Laptop Required"
            required
            class="w-full rounded-md bg-[#181a1f] border border-yellow-500 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"
          />
        </div>
      </div>

      <div>
        <label for="compensation" class="block text-yellow-500 font-semibold mb-1">Compensation</label>
        <input
          type="text"
          id="compensation"
          name="Amount"
          placeholder="e.g. â‚¹1000 per day"
          required
          class="w-full rounded-md bg-[#181a1f] border border-yellow-500 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"
        />
      </div>
      <div>
        <label for="compensation" class="block text-yellow-500 font-semibold mb-1">Compensation</label>
        <input
          type="text"
          id="whatsapp"
          name="whatsapp"
          placeholder="whatsapp group link"
          required
          class="w-full rounded-md bg-[#181a1f] border border-yellow-500 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"
        />
      </div>


      <div>
        <label for="status" class="block text-yellow-500 font-semibold mb-1">State</label>
        <input
          type="text"
          id="status"
          name="State"
          placeholder="e.g. Telangana"
          required
          class="w-full rounded-md bg-[#181a1f] border border-yellow-500 text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"
        />
      </div>

      <div class="text-center">
        <button
          type="submit"
          class="bg-yellow-500 text-black font-semibold px-6 py-3 rounded-md hover:bg-yellow-600 transition"
          id="submit"
        >
          Add Audit
        </button>
      </div>
    </form>

    <!-- Inserted audits list -->
    <section id="auditsList" class="mt-14 max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6"></section>
  </main>

  <script>
    const form = document.getElementById('auditForm');
    const auditsList = document.getElementById('auditsList');

    // Function to create audit card HTML
    function createAuditCard(data) {
      // Determine status badge color
      const statusColors = {
        Open: 'bg-green-700',
        Urgent: 'bg-red-700',
      };
      const statusColorClass = statusColors[data.status] || 'bg-gray-700';

      // Create card container
      const card = document.createElement('article');
      card.className = 'bg-[#22252c] rounded-md border border-gray-700 pt-3 pb-5 px-5 relative';

      // Top yellow border
      const topBorder = document.createElement('div');
      topBorder.className = 'absolute top-0 left-0 w-full h-1 rounded-t-md bg-yellow-500';
      card.appendChild(topBorder);

      // Header with Audit ID and status
      const header = document.createElement('div');
      header.className = 'flex justify-between items-start mb-2';

      const auditIdP = document.createElement('p');
      auditIdP.className = 'text-yellow-400 text-[10px] font-mono font-semibold select-text';
      auditIdP.innerHTML = `Audit ID: <span class="text-yellow-500">${data.auditId}</span>`;
      header.appendChild(auditIdP);

      const statusSpan = document.createElement('span');
      statusSpan.className = `${statusColorClass} text-white text-[10px] font-semibold px-2 py-[2px] rounded select-text`;
      statusSpan.textContent = data.status;
      header.appendChild(statusSpan);

      card.appendChild(header);

      // Title
      const titleH2 = document.createElement('h2');
      titleH2.className = 'font-extrabold text-white text-lg leading-snug mb-4 select-text';
      titleH2.textContent = data.title;
      card.appendChild(titleH2);

      // Details list
      const ul = document.createElement('ul');
      ul.className = 'space-y-2 text-gray-300 text-sm font-normal';

      const details = [
        { icon: 'fas fa-map-marker-alt', label: 'Location:', value: data.location },
        { icon: 'fas fa-calendar-alt', label: 'Start Date:', value: data.startDate },
        { icon: 'fas fa-clock', label: 'Duration:', value: `${data.duration} days` },
        { icon: 'fas fa-users', label: 'Team Size:', value: data.teamSize },
        { icon: 'fas fa-building', label: 'Industry:', value: data.industry },
        { icon: 'fas fa-tags', label: 'Audit Type:', value: data.auditType },
        { icon: 'fas fa-user-check', label: 'Qualifications:', value: data.qualifications },
        { icon: 'fas fa-laptop', label: 'Equipment:', value: data.equipment },
        { icon: 'fas fa-dollar-sign', label: 'Compensation:', value: data.compensation, bold: true },
      ];

      details.forEach((item) => {
        const li = document.createElement('li');
        li.className = 'flex justify-between';
        if (item.bold) li.classList.add('font-semibold', 'text-gray-100');

        const leftSpan = document.createElement('span');
        leftSpan.innerHTML = `<i class="${item.icon} text-yellow-500 mr-2"></i>${item.label}`;
        li.appendChild(leftSpan);

        const rightSpan = document.createElement('span');
        rightSpan.className = 'select-text';
        rightSpan.textContent = item.value;
        li.appendChild(rightSpan);

        ul.appendChild(li);
      });

      card.appendChild(ul);

      // Footer with posted date and apply button
      const footer = document.createElement('div');
      footer.className = 'flex justify-between items-center mt-6 text-gray-500 text-xs select-text';

      const postedSpan = document.createElement('span');
      postedSpan.textContent = 'Posted just now';
      footer.appendChild(postedSpan);

      const applyBtn = document.createElement('button');
      applyBtn.type = 'button';
      applyBtn.className = 'bg-gray-700 hover:bg-gray-600 text-white text-sm font-semibold px-4 py-2 rounded';
      applyBtn.textContent = 'Apply Now';
      footer.appendChild(applyBtn);

      card.appendChild(footer);

      return card;
    }

    // Handle form submission
    form.addEventListener('submit', (e) => {
      e.preventDefault();

      // Collect form data
      const formData = new FormData(form);
      const data = {
        auditId: formData.get('auditId').trim(),
        title: formData.get('title').trim(),
        location: formData.get('location').trim(),
        startDate: formData.get('startDate'),
        duration: formData.get('duration').trim(),
        teamSize: formData.get('teamSize').trim(),
        industry: formData.get('industry').trim(),
        auditType: formData.get('auditType').trim(),
        qualifications: formData.get('qualifications').trim(),
        equipment: formData.get('equipment').trim(),
        compensation: formData.get('compensation').trim(),
        status: formData.get('status'),
      };

      // Basic validation (all required)
      for (const key in data) {
        if (!data[key]) {
          alert(`Please fill the ${key} field.`);
          return;
        }
      }

      // Create new audit card and append
      const newCard = createAuditCard(data);
      auditsList.prepend(newCard);

      // Reset form
      form.reset();
    });
  </script>
<script src="/static/java/manual.js"></script>
</body>
</html>